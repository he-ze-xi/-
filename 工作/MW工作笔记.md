## 1.FLC

> 1. 配方建立的目的：怎么对产品进行切割。
> 2. 激光寻焦的目的是：找到激光的焦距，即找到那4个CO2和4个UV激光器的焦距。
> 3. 精度标定的目的是：减小标定过程中的误差。
> 4. 切割道振镜位置标定的目的是：建立振镜位置和切割道位置关系。
>  5. 联合标定的目的是：建立线扫、振镜和Box相对关系。
> 6. 打标第一遍是为了校准，第二遍是为了验证打标的结果是否满足要求。
> 7. 联合标定中，分奇偶行的目的是：错开重叠区域。
>  8. 产品的切割分为3种：长边、短边、半切。
>  9. 标定的目的是：寻找空间物体的三维几何位置和在图像中对应的点的关系。
> 10. 在精度标定中，CutMark是做切割用的，PanelMark是做产品定位用的。
> 11. 切割的时候，一定是先预热，再切CO2，切完CO2再切UV。
> 12. 振镜标定中常见的异常：
> 
> - 无法定位网格：图像脏污多；
> - 配置参数出错，导致矫正精度不收敛；
> - 导致精度不收敛，网格虚焦、图像虚焦。
> 13. 切记：设备旁有人的情况下，千万不要动设备（如果真的发生危险，要按“急停”按钮）。
> 14. 正向切是Y从小到大的时候切，即平台进去的时候切；反向切是指Y从大到小的时候切，即平台出来的时候切。
> 15. 精校相机、UV振镜的方向都是反的，只有CO2振镜的方向是对的（UV正方向和坐标系中X增大的方向相同）。
> 16. DXF中那几个点 ![在这里插入图片描述](https://img-blog.csdnimg.cn/eaffdfa2a4284491936b2eb072172d20.jpeg#pic_center)
> 17. IR：IR是一种新的激光器，和CO2相比，切出来的激光比CO2更细，而且切割也不需要脚本(CO2切割需要调用写出来的脚本)，只需要调用API就饿可以。
> 

## 2.BendingCut
### 1.CUT硬件组成

> * 4个CO2激光器（最大理论切割功率为100w），实际切割功率为32w左右。
> * 8个线扫相机。
> * 冷水机1个用于给激光器、线扫相机、UV灯降温。
> * 预校相机1个，用于标定和补偿精度。
> * 有4个振镜头，分别对应4个CO2激光器。光从CO2激光器打出，经过光路盒从振镜头里出来。
> * 2个预校相机，放在平台上，作用：预校、对位、补偿，让片子摆正。
> * USC1个，用于清洁产品。
> * VCR相机1个，用于识别片子上的二维码信息。
> * FindMark相机1个，用于拍片上的箭头，检查片子是否放反了。

### 2.CUT主要流程

> 上料（同时识别VCR和FindMark箭头）------识别预校Mark（看片子有没有偏，每张会计算出一个补偿值）------放到WorkTable上做线扫（查找切割Mark）------短边切割-----长边3切割------下料。

### 3.一些流程相关原理

> 1. CUT测功率：用功率计测功率，作用是：测试每个激光器从power(%)到power(w)的数值转化。
> 2. 系统标定和配方标定：   
> 系统标定：不区分配方，只需要标定一次。    
> 配方标定：区分配方，每个配方需要标定一次。
> 3. ROI：匹配搜索区域。
> 4. 联合标定中，补偿方式分为"头尾Mark补偿"和"全部Mark补偿"，区别如下：    
> 头尾Mark补偿：只补偿一条切割道上的头尾Mark。   
>  全部Mark补偿：补偿一条切割道上所有Mark。
> 5. 振镜和Box关系标定：寻找振镜和平台、线扫相机之间的关系。
> 6. 联合标定：寻找Box和振镜的关系。
> 7. 短边精度标定：补精度。
> 8. 长边封口补偿：如果没有封好口，GPC撕膜会有问题。注：GPC撕膜撕的是线端，PIU撕膜撕的是弧端。

## 3.CIM
### 1.CIM整体介绍

> CIM主要负责与上游Robot的上料交互、帐料的管理，设备状态等事件上报、设备内大部分的通信和Tray组信息管理。
> ![在这里插入图片描述](https://img-blog.csdnimg.cn/3d1a10a8b7ca4716bc7893c0f06aca78.png)

### 2.通信介绍
#### 1.三菱CC-Link通信

> 三菱通信在此项目用于上游Robot与Load交互进料部分，此部分需要安装单独的三菱板卡进行通信。
#### 2.HSMS通信
> HSMS通信主要使用SECS通信协议建立CIM PC与BC PC之间的通信，将设备的状态、警报、配方、帐料等方面信息进行上报，项目大部分业务通过此消息上报。需要具体学习业务流程图、运营案和HSMS Spec。
> ![在这里插入图片描述](https://img-blog.csdnimg.cn/9d49ffb6f3b849418e9ec1d8f8ea34f1.png)
#### 3.Ormon通信
> 我司设备主要使用Ormon PLC作为设备的控制器，目前使用的Ormon通信为在Ormon API上封装的组件，主要作用是与PLC交互流程，需要具体培训了解。目前CIM与上位机都使用我们的组件，需要协助上位机同事使用与排查问题。
#### 4.Socket通信
> 我们内部封装的一个PC到PC的通信方式，主要使用在上位机与CIM之间，目前上位机的主控分控也使用此通信，需要协助上位机同事使用与排查问题。
### 3.OLED Server介绍
#### 1.OLED Server作用
> OLED Server为使用socket通信独立出来的通信服务端，作用是作为各个上位机主控程序和CIM程序的中转，对各主控数据进行初步处理统一发送至CIM，将CIM的命令或信息下发至各主控，具体流程结合流程图了解。目前已集成至CIM主程序一键启动。
#### 2.OLED Server 模拟测试
> OLED Server配有模拟测试界面，点击主界面的PC Simulator按钮，进入模拟测试界面，根据需要上报的内容自行编辑按钮与逻辑，模拟上位机与CIM通信，进行测试。
### 4.Link Single介绍
#### 1.Link Single作用

> 当我们设备有上游或者下游时，需要遵循LinkSingle
> Spec流程图进行交互，使用三菱板卡通信，FLC项目上游与Robot进行交互，使用Type 3。需要熟悉PLC Map、Link
> Single Spec等文档，掌握三菱板卡安装配置、点位配置以及Link流程代码编写等操作。
#### 2. Link Single交互信号
> 交互信号分PLCtoCIM和CIMtoPLC两种，PLCtoCIM的有Sensor信号，开始结束信号。CIMtoPLC的有GlassID、交互步骤等信号。
### 5.Tray组管理
#### 1.ray组组成部分
> 由Load、UnLoad两部分组成。
> ![在这里插入图片描述](https://img-blog.csdnimg.cn/e35d549d762b4c299d3cddaf7543da47.png)
> ![在这里插入图片描述](https://img-blog.csdnimg.cn/707650ee4c7346cb986785e3c5f6d05b.png)
#### 2.Tray组部分开发流程
> 首先根据客户提供的运营案进行流程规划，根据Port口数量与职责规划Ormon配置表格，与电气沟通上报流程，确定方案后整理出流程图进行开发。
#### 3.详细流程

> Load：
> ![在这里插入图片描述](https://img-blog.csdnimg.cn/c9a45264a8f544e9907df8660bd7da94.png)

> UnLoad：
> ![在这里插入图片描述](https://img-blog.csdnimg.cn/f316a37c3e434ccfa821af2409757e24.png)






